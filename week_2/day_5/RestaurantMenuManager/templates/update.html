{% extends "basic.html" %}
{% block title %}Update Item · 2025{% endblock %}

{% block header_actions %}
  <a href="{{ url_for('menu_by_category', category=item.category) }}"
     class="inline-flex items-center px-3 py-2 rounded-lg border border-slate-300/70 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 focus-ring">
    ← Back
  </a>
{% endblock %}

{% block content %}
  <form method="post" class="max-w-xl space-y-4">
    <div>
      <label class="block text-sm font-medium mb-1">Name</label>
      <input name="name" required
             value="{{ item.name }}"
             class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring" />
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Price (DH)</label>
      <input name="price" type="number" step="0.01" min="0" inputmode="decimal" required
             value="{{ '%.2f'|format(item.price) }}"
             class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring" />
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Image URL</label>
      <input name="image_url" type="url"
             value="{{ item.image_url or '' }}"
             placeholder="https://example.com/dishes/pizza.jpg"
             class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring" />
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Category</label>
      <select name="category" class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring">
        {% for slug,label in CATEGORIES %}
          <option value="{{ slug }}" {% if item.category == slug %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="flex items-center gap-2">
      <button class="inline-flex items-center px-4 py-2 rounded-lg bg-brand-600 text-white hover:bg-brand-700 focus-ring">
        Update
      </button>
      <a href="{{ url_for('menu_by_category', category=item.category) }}"
         class="inline-flex items-center px-4 py-2 rounded-lg border border-slate-300/70 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 focus-ring">
        Cancel
      </a>
    </div>
  </form>
{% endblock %}
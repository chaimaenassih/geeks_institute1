{% extends "basic.html" %}
{% block title %}Add Item · 2025{% endblock %}

{% block header_actions %}
  <a href="{{ url_for('menu_by_category', category=request.args.get('category','main')) }}"
     class="inline-flex items-center px-3 py-2 rounded-lg border border-slate-300/70 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 focus-ring">
    ← Back
  </a>
{% endblock %}

{% block content %}
  {% set selected_cat = request.args.get('category', 'main') %}
  <form method="post" class="max-w-xl space-y-4">
    <div>
      <label class="block text-sm font-medium mb-1">Name</label>
      <input name="name" required
             placeholder="e.g., Margherita Pizza"
             class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring" />
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Price (DH)</label>
      <input name="price" type="number" step="0.01" min="0" inputmode="decimal" required
             placeholder="e.g., 89.00"
             class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring" />
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Image URL</label>
      <input name="image_url" type="url" placeholder="https://example.com/dishes/pizza.jpg"
             class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring" />
      <p class="text-xs text-slate-500 mt-1">Paste a direct JPG/PNG/WebP link (optional).</p>
    </div>

    <div>
      <label class="block text-sm font-medium mb-1">Category</label>
      <select name="category" class="w-full rounded-lg border border-slate-300/70 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 focus-ring">
        {% for slug,label in CATEGORIES %}
          <option value="{{ slug }}" {% if slug == selected_cat %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="flex items-center gap-2">
      <button class="inline-flex items-center px-4 py-2 rounded-lg bg-brand-600 text-white hover:bg-brand-700 focus-ring">
        Save
      </button>
      <a href="{{ url_for('menu_by_category', category=selected_cat) }}"
         class="inline-flex items-center px-4 py-2 rounded-lg border border-slate-300/70 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 focus-ring">
        Cancel
      </a>
    </div>
  </form>
{% endblock %}